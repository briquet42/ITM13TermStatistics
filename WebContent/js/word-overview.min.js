function generateSitesTable(){siteTable=$("#site-list-table").DataTable({dom:"frtip",ajax:"../rest/word/"+wordID+"/websites",order:[[1,"desc"]],columns:[{data:"id"},{data:"adresse"},{data:"amount"}],select:"single"})}var barChart,lineChart,wordID,siteTable,$chartsSection=$("#charts");$(document).ready(function(){wordID=$("#wordID").val(),generateSitesTable(),getWebsitesForWord(generateBarChart)});var getWebsitesForWord=function(e){$.getJSON("../rest/word/"+wordID+"/websites",function(t){$chartsSection.removeClass("overlay"),e(t.data)})},generateBarChart=function(e){var t=[],a=[];$(e).each(function(r){t.push(e[r].adresse),a.push(e[r].amount)});var e={labels:t,datasets:[{label:"",fillColor:"rgba(22, 160, 133, 0.6)",strokeColor:"rgba(38, 166, 91, 0.4)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:a}]},r=$("#bar-chart").get(0).getContext("2d");barChart=new Chart(r).Bar(e)};